<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <script src="/js/jquery-1.8.0.min.js" type="text/javascript"></script>
    <script src="/css/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/js/jquery-ui-1.8.23.custom.min.js" type="text/javascript"></script>
    <script src="/js/jquery.event.drag-2.2.js" type="text/javascript"></script>
    <script src="/js/mustache.js" type="text/javascript"></script>
    <script src="/js/slick.core.js" type="text/javascript"></script>
    <script src="/js/slick.grid.js" type="text/javascript"></script>
    <script src="/js/slick.formatters.js" type="text/javascript"></script>
    <script src="/js/slickgrid-plugins/slick.rowselectionmodel.js" type="text/javascript"></script>
    <script src="/js/reporting.js" type="text/javascript"></script>

    <link href="/css/smoothness/jquery-ui-1.8.23.custom.css" rel="stylesheet" />
    <link href="/css/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/css/slick.grid.css" rel="stylesheet" />
    <link href="/css/Site.css" rel="stylesheet" />

</head>

<body>
    <div class="navbar navbar-static">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="##">GovData</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active" id="nav-item-home"><a href="##">Home</a></li>
              <li class="dropdown" id="nav-item-db">
                <a href="#" id="db-menu" role="button" class="dropdown-toggle" data-toggle="dropdown">Databases <b class="caret"></b></a>
                <ul class="dropdown-menu" role="menu" id="db-menu-options" aria-labelledby="reports-menu">
                        <li><a tabindex="1" href="#GovData" id="db_menu_GovData">GovData</a></li>
                </ul>
              <li class="dropdown" id="nav-item-reports">
                <a href="#" id="reports-menu" role="button" class="dropdown-toggle" data-toggle="dropdown">Reports <b class="caret"></b></a>
                <ul class="dropdown-menu" role="menu" id="reports-menu-options" aria-labelledby="reports-menu">
                  <li>
                  <a tabindex="1" href="#GovData/blsoe_wages" id="report_menu_blsoe_wages">Bureau of Labor Statistics - Wages</a>
                  </li>
                  <li>
                  <a tabindex="2" href="#GovData/blsoe_workers" id="report_menu_blsoe_workers">Bureau of Labor Statistics - Workers</a>
                  </li>
                </ul>
              </li>
              <li class="dropdown" id="nav-item-queries">
                <a href="#" id="query-menu" role="button" class="dropdown-toggle" data-toggle="dropdown">Queries <b class="caret"></b></a>
                <ul class="dropdown-menu" role="menu" id="query-menu-options" aria-labelledby="query-menu">
                    <li><a tabindex="1" href="javascript:void(0)" id="query_menu_show_saved_queries">Show Saved Queries</a></li>
                </ul>
              </li>
              <li class="dropdown" id="nav-item-admin">
                <a href="#" id="admin-menu" role="button" class="dropdown-toggle" data-toggle="dropdown">Administration <b class="caret"></b></a>
                <ul class="dropdown-menu" role="menu" id="admin-menu-options" aria-labelledby="admin-menu">
                    <li><a tabindex="1" href="javascript:void(0)" id="admin_menu_reload_data">Reload Data</a></li>
                </ul>
              </li>
              <li class="dropdown" id="nav-item-account">
                <a href="#" id="account-menu" role="button" class="dropdown-toggle" data-toggle="dropdown">Account <b class="caret"></b></a>
                <ul class="dropdown-menu" role="menu" id="account-menu-options" aria-labelledby="account-menu">
                    <li><a tabindex="1" href="/Login?message=Your+session+has+ended." id="account_menu_log_out">Log Out</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>


<div class="container">

<ul class="breadcrumb" id="breadcrumbs">
    <li id="breadcrumb-db"></li>
    <li id="breadcrumb-table"></li>
</ul>

<div id="min-width-warning" class="alert alert-error" style="display:none;">
Please make your browser window wider to see the options on the main menu above.
</div>


<form id="queryForm" method="post" action="/Report/ExportResults" style="display:none">
<input type="hidden" id="formJsonData" name="query" value="" />
</form>



<div id="query-container"></div>
<div id="msg" class="alert alert-error" style="display:none">
<button type="button" class="close" id="close-err-msg">Ã—</button>
<div id="msg-content"></div>
</div>


<div id="home-content">
<h1>GovData</h1>
<p id="choose-db-message">Choose a database first, then choose a report.</p>
<div id="dbloading" style="display:none"><img src="/css/images/ajax-loader.gif" height="32" width="32" alt="Loading..."/>Loading database...</div>
</div>



<div id="results-count" style="display:none;"></div>
<div id="results-table"></div>
<div id="load-more-rows">
<button class="btn" id="btn-load-more-rows">Load More &gt;&gt;</button>
</div>


<div id="dialog-reload" title="Reload Data">
    <p>Enter the password to reload all data into the data warehouse:</p>
    <input type="password" id="data-reload-password" value=""/>
    <p id="data-is-reloading" style="display:none">Data is reloading. This can take 1-2 minutes.
    (Your password was cleared for security.)
    <img src="/css/images/ajax-loader.gif" height="32" width="32" alt="Loading..."/></p>
</div>


<div id="dialog-save-query" title="Save This Query" style="display:none;">

<form name="save-query-form" id="save-query-form" action="/SavedQuery/Create" method="post">
    <input type="hidden" name="savedQueryId" id="savedQueryId" value="" />
    <input type="hidden" name="savedQueryJson" id="savedQueryJson" value="" />
    <input type="hidden" name="savedQueryUserIsOwner" id="savedQueryUserIsOwner" value="" />
    <label>Name <br /><input type="text" name="savedQueryName" id="savedQueryName" value="" /></label>
    <br />
    <label><input type="checkbox" name="savedQueryIsShared" id="savedQueryIsShared" value="true" /> Share this query</label>
    <br />
    <label>Description <br /><textarea name="savedQueryDescription" id="savedQueryDescription"></textarea></label>
    <input type="hidden" name="savedQueryDb" id="savedQueryDb" value="" />
    <input type="hidden" name="savedQueryTable" id="savedQueryTable" value="" />
</form>
</div>


<div id="dialog-create-or-edit" title="Save This Query" style="display:none;">
<p>Do you want to save this query as an updated version of <span id="saved-query-name"></span>,
or do you want to save it as a new query?</p>
</div>


<div id="dialog-saved-queries" title="Saved Queries" style="display:none;">
<h3>Saved Queries</h3>
<div id="list-of-saved-queries"></div>
</div>


<script type="text/javascript">
    var APP_ROOT_URL = "/";
</script>


<script id="table-meta-data" type="text/html">
<h1>Table {{ DisplayName }}</h1>
<table>
    <thead>
    <tr>
        <th>Name</th>
        <th>Data Type</th>
        <th>Length</th>
        <th>Precision</th>
        <th>Scale</th>
        <th>Default</th>
        <th>Nullable</th>
    </tr>
    </thead>
    <tbody>
    {{#Columns}}
    <tr>
        <td>{{ColumnName}}</td>
        <td>{{DataType}}</td>
        <td>{{CharacterMaximumLength}}</td>
        <td>{{NumericPrecision}}</td>
        <td>{{NumericScale}}</td>
        <td>{{ColumnDefault}}</td>
        <td>{{IsNullable}}</td>
    </tr>
    {{/Columns}}
    </tbody>
</table>
</script>



<script id="filter-template" type="text/html">
<div id="filter-{{FilterId}}" class="filter">
    <div class="filter-number"></div>
    {{>filter_column}}
    {{>filter_op}}
    {{>filter_value}}
    <button class="btn filter-remove-button" id="remove-{{FilterId}}">Remove</button>
</div>
</script>



<script id="filter-column-template" type="text/html">
<div class="filter-column">
    <select name="col-{{FilterId}}" id="col-{{FilterId}}">
        <option value="">-- Choose a filter --</option>
        {{#ColumnDescriptors}}
        {{#DisplayInFilters}}
        <option value="{{Name}}">{{DisplayName}}</option>
        {{/DisplayInFilters}}
        {{/ColumnDescriptors}}
    </select>
</div>
</script>


<script id="filter-op-template" type="text/html">
<div class="filter-op">
    <select name="op-{{FilterId}}" id="op-{{FilterId}}" disabled="disabled">
        <option value="">-- Choose filter first --</option>
        {{#Operators}}
        <option value="{{Value}}">{{Label}}</option>
        {{/Operators}}
    </select>
</div>
</script>



<script id="filter-value-template" type="text/html">
<div class="filter-value" id="val-div-{{FilterId}}">
    <input type="text" name="val-{{FilterId}}" id="val-{{FilterId}}" />
</div>
</script>


<script id="is-any-of-template" type="text/html">
<div class="is-any-of">
    {{#Items}}
    <label><input type="checkbox" name="val-{{FilterId}}" value="{{Value}}"/>{{Label}}</label>
    {{/Items}}
</div>
</script>



<script id="query-template" type="text/html">
<div id="query-type-container">
    <input type="radio" name="query-type" id="query-type-raw" value="Raw" checked="checked" class="inline-form-element" />
    <label for="query-type-raw" class="inline-form-element">Raw Data Query</label>
    <input type="radio" name="query-type" id="query-type-crosstab" value="Crosstab" class="inline-form-element"/>
    <label for="query-type-crosstab" class="inline-form-element">Crosstab Query</label>
</div>



<div id="filters-header-bar" class="btn btn-info header-bar" title="Click to show filters">+ Filters</div>
<div id="filter-container" style="display:block">
    <div id="filters">
        {{! >filters }}
    </div>
    <div id="filter-logic">
        <div class="dummy-filter-number"></div>
        <select name="filter-logic-type" id="filter-logic-type">
            <option value="MatchAll" selected="selected">Match ALL filters</option>
            <option value="MatchAny">Match ANY filter</option>
            <option value="Custom">Custom Logic</option>
        </select>
        <input type="text" name="filter-logic-string" id="filter-logic-string" value=""/>
        <button class="btn filter-add-button" id="add-filter-button">Add Filter</button>
    </div>
</div>


<div id="result-columns-container">
    <div id="result-columns-header-bar" class="btn btn-info header-bar"
         title="Click to hide result columns">+ Result Columns</div>
    <div id="result-columns" style="display:none">
        <div id="result-column-titles">
            <div class="fl40 alert-info" id="available-columns-title">Available Columns</div>
            <div class="fl10" id="available-columns-title">&nbsp;</div>
            <div class="fl40 alert-info" id="available-columns-title">Selected Columns</div>
        </div>
        <div style="clear:both"></div>
        <div class="fl40" id="available-columns-container">
            <select id="available-output-columns" name="available-output-columns"
                    multiple="multiple" class="multi-select">
                {{#AvailableOutputColumns}}
                <option value="{{Name}}">{{DisplayName}}</option>
                {{/AvailableOutputColumns}}
            </select>
        </div>


        <div class="fl10" id="output-select-controls">
            <input type="button" class="arrow-button" id="output-move-all-right"
                   value="&gt;&gt;" title="Move all columns into output list"/>
            <input type="button" class="arrow-button" style="margin-bottom:37px;"
                   id="output-move-selected-right" value="&gt;"
                   title="Move selected item into output list"/>
            <input type="button" class="arrow-button"
                   id="output-move-selected-left" value="&lt;"
                   title="Remove selected item from output list"/>
            <input type="button" class="arrow-button"
                   id="output-move-all-left" value="&lt;&lt;"
                   title="Remove all items from output list"/>
        </div>


        <div class="fl40" id="selected-columns-container">
            <select id="selected-output-columns" name="selected-output-columns"
                    multiple="multiple"  class="multi-select">
                {{#SelectedOutputColumns}}
                <option value="{{Name}}">{{DisplayName}}</option>
                {{/SelectedOutputColumns}}
            </select>
        </div>


        <div class="fl10" id="output-select-controls">
            <input type="button" class="arrow-button" id="output-move-up"
                   value="&uarr;" title="Move selected item up"
                   style="margin-bottom: 107px"/>
            <input type="button" class="arrow-button"
                   id="output-move-down" value="&darr;"
                   title="Move selected item down"/>
        </div>
    </div>
</div>



<div id="sort-columns-container">
    <div id="sort-columns-header-bar" class="btn btn-info header-bar"
         title="Click to hide sorting">+ Sorting</div>
    <div id="sort-columns" style="display:none">
        <div id="result-column-titles">
            <div class="fl40 alert-info" id="available-columns-title">Available Columns</div>
            <div class="fl10" id="available-columns-title">&nbsp;</div>
            <div class="fl40 alert-info" id="available-columns-title">Selected Columns</div>
        </div>
        <div style="clear:both"></div>
        <div class="fl40" id="available-columns-container">
            <select id="available-sort-columns" name="available-sort-columns"
                    multiple="multiple" class="multi-select">
                {{#AvailableSortColumns}}
                <option value="{{Name}}">{{DisplayName}}</option>
                {{/AvailableSortColumns}}
            </select>
        </div>

        <div class="fl10" id="sort-select-controls">
            <input type="button" class="arrow-button" id="sort-move-all-right"
                   value="&gt;&gt;" title="Move all columns into sort list"/>
            <input type="button" class="arrow-button" style="margin-bottom:37px;"
                   id="sort-move-selected-right" value="&gt;"
                   title="Move selected item into sort list"/>
            <input type="button" class="arrow-button"
                   id="sort-move-selected-left" value="&lt;"
                   title="Remove selected item from sort list"/>
            <input type="button" class="arrow-button"
                   id="sort-move-all-left" value="&lt;&lt;"
                   title="Remove all items from sort list"/>
        </div>

        <div class="fl40" id="selected-columns-container">
            <select id="selected-sort-columns" name="selected-sort-columns"
                    multiple="multiple"  class="multi-select">
                {{#SelectedSortColumns}}
                <option value="{{Name}}">{{DisplayName}}</option>
                {{/SelectedSortColumns}}
            </select>
        </div>
        <div class="fl10" id="sort-select-controls">
            <input type="button" class="arrow-button" id="sort-move-up"
                   value="&uarr;" title="Move selected item up"
                   style="margin-bottom: 107px"/>
            <input type="button" class="arrow-button"
                   id="sort-move-down" value="&darr;"
                   title="Move selected item down"/>
        </div>
    </div>
</div>



<div id="crosstab-container">
    <div id="crosstab-header-bar" class="btn btn-info header-bar" title="Click to show result columns">- Crosstab Variables</div>
    <div id="crosstab-vars">
        <div id="crosstab-function-container" style="float:left;width:25%">
            <label for="crosstab-function">Function</label>
            <select id="crosstab-function" name="crosstab-function">
                <option value="" selected="selected">-- Choose One --</option>
                <option value="Count">Count</option>
                <option value="Sum">Sum</option>
                <option value="Average">Average</option>
                <option value="Min">Min</option>
                <option value="Max">Max</option>
                <option value="StdDevSample">Std Dev (Sample)</option>
                <option value="StdDevPop">Std Dev (Population)</option>
            </select>
        </div>

        <div id="crosstab-var-container" style="float:left;width:25%">
            <label for="crosstab-var">Variable</label>
            <select id="crosstab-var" name="crosstab-var">
                <option value="" selected="selected">-- Choose One --</option>
                {{#NumericColumns}}
                <option value="{{Name}}">{{DisplayName}}</option>
                {{/NumericColumns}}
            </select>
        </div>


        <div id="crosstab-var-container" style="float:left;width:25%">
            <label for="crosstab-rows">Rows</label>
            <select id="crosstab-rows" name="crosstab-rows">
                <option value="" selected="selected">-- Choose One --</option>
                {{#AvailableGroupingColumns}}
                <option value="{{Name}}">{{DisplayName}}</option>
                {{/AvailableGroupingColumns}}
            </select>
        </div>

        <div id="crosstab-var-container" style="float:left;width:25%">
            <label for="crosstab-cols">Columns</label>
            <select id="crosstab-cols" name="crosstab-cols">
                <option value="" selected="selected">-- Choose One --</option>
                {{#AvailableGroupingColumns}}
                <option value="{{Name}}">{{DisplayName}}</option>
                {{/AvailableGroupingColumns}}
            </select>
        </div>
    </div>
</div>


<div id="filter-commands">
    <div id="filter-commands-left">
        <span id="spinner" style="display:none"><img src="/css/images/ajax-loader.gif" height="32" width="32" alt="Loading..."/>Loading data...</span>
    </div>
    <div id="filter-commands-right">
        <button class="btn" id="run-query-button">Run Query</button>
        <button class="btn" id="save-query-button">Save Query</button>
        <button class="btn" id="export-results-button">Export Results</button>
    </div>
</div>
</script>



<script id="column-list-item-template" type="text/html">
{{#Columns}}
    <span class="label label-info col-option">
    <label>
    <input type="checkbox" name="{{InputName}}" data-col-name="{{Name}}" />
    {{DisplayName}}
    </label>
    </span>
{{/Columns}}
</script>
</div>

<div id="footer">
    <div id="build-number">
        You are logged in as nobody - Build 0.0.0
    </div>
</div>

</body>
</html>
